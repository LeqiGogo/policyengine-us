- name: Idaho retirement benefits unit test 1 - married filling jointly
  period: 2022
  input:
    people:
      person1:
        is_tax_unit_head: true
        social_security_retirement: 10_000
        taxable_pension_income: 30_000
        military_retirement_pay: 15_000
      person2:
        is_tax_unit_spouse: true
    tax_units:
      tax_unit:
        members: [person1, person2]
        filing_status: JOINT 
        age_head: 66
        disabled_head: False
    households:
      household:
        members: [person1, person2]
        state_code: ID
  output:
    id_retirement_benefits: 45_000

- name: Idaho retirement benefits unit test 2 - single
  period: 2022
  input:
    people:
      person1:
        is_tax_unit_head: true
        social_security_retirement: 45_000
        taxable_pension_income: 38_700
        military_retirement_pay: 0
    tax_units:
      tax_unit:
        members: [person1]
        filing_status: SINGLE
        age_head: 63
        disabled_head: True
    households:
      household:
        members: [person1]
        state_code: ID
  output:
    id_retirement_benefits: 0

- name: Idaho retirement benefits unit test 3 - single not eligible
  period: 2022
  input:
    people:
      person1:
        is_tax_unit_head: true
        social_security_retirement: 45_000
        taxable_pension_income: 38_700
        military_retirement_pay: 0
    tax_units:
      tax_unit:
        members: [person1]
        filing_status: SINGLE
        age_head: 60
        disabled_head: True
    households:
      household:
        members: [person1]
        state_code: ID
  output:
    id_retirement_benefits: 0

- name: Idaho retirement benefits unit test 4 - married filling jointly not eligible
  period: 2022
  input:
    people:
      person1:
        is_tax_unit_head: true
        social_security_retirement: 10_000
        taxable_pension_income: 30_000
        military_retirement_pay: 15_000
      person2:
        is_tax_unit_spouse: true
      person3:
        is_tax_unit_dependent: true
    tax_units:
      tax_unit:
        members: [person1, person2, person3]
        filing_status: JOINT 
        age_head: 50
        disabled_head: False
    households:
      household:
        members: [person1, person2, person3]
        state_code: ID
  output:
    id_retirement_benefits: 0

- name: Idaho retirement benefits unit test 5 - widow
  period: 2022
  input:
    people:
      person1:
        is_tax_unit_head: true
        social_security_retirement: 10_000
        taxable_pension_income: 30_000
        military_retirement_pay: 0
      person2:
        is_tax_unit_dependent: true
    tax_units:
      tax_unit:
        members: [person1, person2]
        filing_status: WIDOW 
        age_head: 65
        disabled_head: False
    households:
      household:
        members: [person1, person2]
        state_code: ID
  output:
    id_retirement_benefits: 30_000